

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Datasets &mdash; SLEAP  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Training" href="training.html" />
    <link rel="prev" title="Instance" href="instance.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SLEAP
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">SLEAP Package</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="skeleton.html">Skeleton</a></li>
<li class="toctree-l1"><a class="reference internal" href="video.html">Video</a></li>
<li class="toctree-l1"><a class="reference internal" href="instance.html">Instance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="training.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SLEAP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Datasets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dataset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-sleap.io.dataset">
<span id="datasets"></span><h1>Datasets<a class="headerlink" href="#module-sleap.io.dataset" title="Permalink to this headline">¶</a></h1>
<p>A SLEAP dataset collects labeled video frames.</p>
<p>This contains labeled frame data (user annotations and/or predictions),
together with all the other data that is saved for a SLEAP project
(videos, skeletons, negative training sample anchors, etc.).</p>
<dl class="class">
<dt id="sleap.io.dataset.Labels">
<em class="property">class </em><code class="sig-prename descclassname">sleap.io.dataset.</code><code class="sig-name descname">Labels</code><span class="sig-paren">(</span><em class="sig-param">labeled_frames: List[sleap.instance.LabeledFrame] = NOTHING</em>, <em class="sig-param">videos: List[sleap.io.video.Video] = NOTHING</em>, <em class="sig-param">skeletons: List[sleap.skeleton.Skeleton] = NOTHING</em>, <em class="sig-param">nodes: List[sleap.skeleton.Node] = NOTHING</em>, <em class="sig-param">tracks: List[sleap.instance.Track] = NOTHING</em>, <em class="sig-param">suggestions: Dict[sleap.io.video.Video</em>, <em class="sig-param">list] = NOTHING</em>, <em class="sig-param">negative_anchors: Dict[sleap.io.video.Video</em>, <em class="sig-param">list] = NOTHING</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> class collects the data for a SLEAP project.</p>
<p>This class is front-end for all interactions with loading, writing,
and modifying these labels. The actual storage backend for the data
is mostly abstracted away from the main interface.</p>
<dl class="attribute">
<dt id="sleap.io.dataset.Labels.labeled_frames">
<code class="sig-name descname">labeled_frames</code><a class="headerlink" href="#sleap.io.dataset.Labels.labeled_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">LabeledFrame</span></code> objects</p>
</dd></dl>

<dl class="attribute">
<dt id="sleap.io.dataset.Labels.videos">
<code class="sig-name descname">videos</code><a class="headerlink" href="#sleap.io.dataset.Labels.videos" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> objects that these labels may or may
not reference. The video for every <cite>LabeledFrame</cite> will be
stored in <cite>videos</cite> attribute, but some videos in
this list may not have any associated labeled frames.</p>
</dd></dl>

<dl class="attribute">
<dt id="sleap.io.dataset.Labels.skeletons">
<code class="sig-name descname">skeletons</code><a class="headerlink" href="#sleap.io.dataset.Labels.skeletons" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Skeleton</span></code> objects (again, that may or may
not be referenced by an <code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code> in labeled frame).</p>
</dd></dl>

<dl class="attribute">
<dt id="sleap.io.dataset.Labels.tracks">
<code class="sig-name descname">tracks</code><a class="headerlink" href="#sleap.io.dataset.Labels.tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Track</span></code> that instances can belong to.</p>
</dd></dl>

<dl class="attribute">
<dt id="sleap.io.dataset.Labels.suggestions">
<code class="sig-name descname">suggestions</code><a class="headerlink" href="#sleap.io.dataset.Labels.suggestions" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary that stores “suggested” frames for
videos in project. These can be suggested frames for user
to label or suggested frames for user to review.
Dictionary key is <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code>, value is list of frame
indices.</p>
</dd></dl>

<dl class="attribute">
<dt id="sleap.io.dataset.Labels.negative_anchors">
<code class="sig-name descname">negative_anchors</code><a class="headerlink" href="#sleap.io.dataset.Labels.negative_anchors" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary that stores center-points around
which to crop as negative samples when training.
Dictionary key is <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code>, value is list of
(frame index, x, y) tuples.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.add_instance">
<code class="sig-name descname">add_instance</code><span class="sig-paren">(</span><em class="sig-param">frame: sleap.instance.LabeledFrame</em>, <em class="sig-param">instance: sleap.instance.Instance</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.add_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.add_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds instance to frame, updating track occupancy.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.add_negative_anchor">
<code class="sig-name descname">add_negative_anchor</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">frame_idx: int</em>, <em class="sig-param">where: tuple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.add_negative_anchor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.add_negative_anchor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a location for a negative training sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – the <cite>Video</cite> for this negative sample</p></li>
<li><p><strong>frame_idx</strong> – frame index</p></li>
<li><p><strong>where</strong> – (x, y)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.add_track">
<code class="sig-name descname">add_track</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">track: sleap.instance.Track</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.add_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.add_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds track to labels, updating occupancy.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.add_video">
<code class="sig-name descname">add_video</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.add_video"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.add_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a video to the labels if it is not already in it.</p>
<p>Video instances are added automatically when adding labeled frames,
but this function allows for adding videos to the labels before any
labeled frames are added.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video</strong> – <cite>Video</cite> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.all_instances">
<em class="property">property </em><code class="sig-name descname">all_instances</code><a class="headerlink" href="#sleap.io.dataset.Labels.all_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of all instances.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">value: sleap.instance.LabeledFrame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds labeled frame to list of labeled frames.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.complex_merge_between">
<em class="property">classmethod </em><code class="sig-name descname">complex_merge_between</code><span class="sig-paren">(</span><em class="sig-param">base_labels: sleap.io.dataset.Labels</em>, <em class="sig-param">new_labels: sleap.io.dataset.Labels</em>, <em class="sig-param">unify: bool = True</em><span class="sig-paren">)</span> &#x2192; tuple<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.complex_merge_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.complex_merge_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge frames and other data from one dataset into another.</p>
<p>Anything that can be merged cleanly is merged into base_labels.</p>
<p>Frames conflict just in case each labels object has a matching
frame (same video and frame idx) with instances not in other.</p>
<p>Frames can be merged cleanly if:</p>
<ul class="simple">
<li><p>the frame is in only one of the labels, or</p></li>
<li><p>the frame is in both labels, but all instances perfectly match
(which means they are redundant), or</p></li>
<li><p>the frame is in both labels, maybe there are some redundant
instances, but only one version of the frame has additional
instances not in the other.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_labels</strong> – the <cite>Labels</cite> that we’re merging into</p></li>
<li><p><strong>new_labels</strong> – the <cite>Labels</cite> that we’re merging from</p></li>
<li><p><strong>unify</strong> – whether to replace objects (e.g., <cite>Video</cite>) in
new_labels with <em>matching</em> objects from base</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><dl class="simple">
<dt>Dictionary, keys are <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code>, values are</dt><dd><p>dictionary in which keys are frame index (int)
and value is list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code> objects</p>
</dd>
</dl>
</li>
<li><p>list of conflicting <code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code> objects from base</p></li>
<li><p>list of conflicting <code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code> objects from new</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of three items</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.delete_suggestions">
<code class="sig-name descname">delete_suggestions</code><span class="sig-paren">(</span><em class="sig-param">video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.delete_suggestions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.delete_suggestions" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes suggestions for specified video.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.extend_from">
<code class="sig-name descname">extend_from</code><span class="sig-paren">(</span><em class="sig-param">new_frames: Union[Labels, List[sleap.instance.LabeledFrame]], unify: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.extend_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.extend_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge data from another <cite>Labels</cite> object or <cite>LabeledFrame</cite> list.</p>
<dl>
<dt>Arg:</dt><dd><p>new_frames: the object from which to copy data
unify: whether to replace objects in new frames with</p>
<blockquote>
<div><p>corresponding objects from current <cite>Labels</cite> data</p>
</div></blockquote>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, True if we added frames, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">frame_idx: Union[int</em>, <em class="sig-param">range</em>, <em class="sig-param">None] = None</em>, <em class="sig-param">return_new: bool = False</em><span class="sig-paren">)</span> &#x2192; List[sleap.instance.LabeledFrame]<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for labeled frames given video and/or frame index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> that is associated with the project.</p></li>
<li><p><strong>frame_idx</strong> – The frame index (or indices) which we want to
find in the video. If a range is specified, we’ll return
all frames with indices in that range. If not specific,
then we’ll return all labeled frames for video.</p></li>
<li><p><strong>return_new</strong> – Whether to return singleton of new and empty
<code class="xref py py-class docutils literal notranslate"><span class="pre">LabeledFrame</span></code> if none is found in project.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of <cite>LabeledFrame</cite> objects that match the criteria.
Empty if no matches found, unless return_new is True,
in which case it contains a new <cite>LabeledFrame</cite> with
<cite>video</cite> and <cite>frame_index</cite> set.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.find_first">
<code class="sig-name descname">find_first</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">frame_idx: Optional[int] = None</em><span class="sig-paren">)</span> &#x2192; Optional[sleap.instance.LabeledFrame]<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.find_first"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.find_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the first occurrence of a matching labeled frame.</p>
<p>Matches on frames for the given video and/or frame index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – a <cite>Video</cite> instance that is associated with the
labeled frames</p></li>
<li><p><strong>frame_idx</strong> – an integer specifying the frame index within
the video</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>First <cite>LabeledFrame</cite> that match the criteria
or None if none were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.find_last">
<code class="sig-name descname">find_last</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">frame_idx: Optional[int] = None</em><span class="sig-paren">)</span> &#x2192; Optional[sleap.instance.LabeledFrame]<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.find_last"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.find_last" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the last occurrence of a matching labeled frame.</p>
<p>Matches on frames for the given video and/or frame index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – a <cite>Video</cite> instance that is associated with the
labeled frames</p></li>
<li><p><strong>frame_idx</strong> – an integer specifying the frame index within
the video</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Last <cite>LabeledFrame</cite> that match the criteria
or None if none were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.find_track_occupancy">
<code class="sig-name descname">find_track_occupancy</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video, track: Union[sleap.instance.Track, int], frame_range=None</em><span class="sig-paren">)</span> &#x2192; List[sleap.instance.Instance]<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.find_track_occupancy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.find_track_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get instances for a given video, track, and range of frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – the <cite>Video</cite></p></li>
<li><p><strong>track</strong> – the <cite>Track</cite> or int (“pseudo-track” index to instance list)</p></li>
<li><p><strong>frame_range</strong> (<em>optional</em>) – If specified, only return instances on frames in range.
If None, return all instances for given track.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of <code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code> objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.finish_complex_merge">
<em class="property">static </em><code class="sig-name descname">finish_complex_merge</code><span class="sig-paren">(</span><em class="sig-param">base_labels: sleap.io.dataset.Labels, resolved_frames: List[sleap.instance.LabeledFrame]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.finish_complex_merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.finish_complex_merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Finish conflicted merge from complex_merge_between.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_labels</strong> – the <cite>Labels</cite> that we’re merging into</p></li>
<li><p><strong>resolved_frames</strong> – the list of frames to add into base_labels</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.frames">
<code class="sig-name descname">frames</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">from_frame_idx: int = -1</em>, <em class="sig-param">reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.frames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all labeled frames in a video.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> that is associated with the project.</p></li>
<li><p><strong>from_frame_idx</strong> – The frame index from which we want to start.
Defaults to the first frame of video.</p></li>
<li><p><strong>reverse</strong> – Whether to iterate over frames in reverse order.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">LabeledFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">data: Union[str, dict], match_to: Optional[Labels] = None</em><span class="sig-paren">)</span> &#x2192; sleap.io.dataset.Labels<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.from_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Create instance of class from data in dictionary.</p>
<p>Method is used by other methods that load from JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Dictionary, deserialized from JSON.</p></li>
<li><p><strong>match_to</strong> – If given, we’ll replace particular objects in the
data dictionary with <em>matching</em> objects in the match_to
<a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> object. This ensures that the newly
instantiated <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> can be merged without
duplicate matching objects (e.g., <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> objects ).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.get_next_suggestion">
<code class="sig-name descname">get_next_suggestion</code><span class="sig-paren">(</span><em class="sig-param">video</em>, <em class="sig-param">frame_idx</em>, <em class="sig-param">seek_direction=1</em><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.get_next_suggestion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.get_next_suggestion" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a (video, frame_idx) tuple seeking from given frame.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.get_suggestions">
<code class="sig-name descname">get_suggestions</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.get_suggestions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.get_suggestions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all suggestions as a list of (video, frame) tuples.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.get_track_occupany">
<code class="sig-name descname">get_track_occupany</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em><span class="sig-paren">)</span> &#x2192; List<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.get_track_occupany"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.get_track_occupany" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns track occupancy list for given video</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.get_video_suggestions">
<code class="sig-name descname">get_video_suggestions</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.get_video_suggestions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.get_video_suggestions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of suggested frames for the specified video
or suggestions for all videos (if no video specified).</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.get_video_user_labeled_frames">
<code class="sig-name descname">get_video_user_labeled_frames</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em><span class="sig-paren">)</span> &#x2192; List[sleap.instance.LabeledFrame]<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.get_video_user_labeled_frames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.get_video_user_labeled_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns labeled frames for given video with user instances.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns index of labeled frame in list of labeled frames.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">value: sleap.instance.LabeledFrame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts labeled frame at given index.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.instance_count">
<code class="sig-name descname">instance_count</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">frame_idx: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.instance_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.instance_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of instances matching video/frame index.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.instances">
<code class="sig-name descname">instances</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video = None</em>, <em class="sig-param">skeleton: sleap.skeleton.Skeleton = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.instances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over instances in the labels, optionally with filters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – Only iterate through instances in this video</p></li>
<li><p><strong>skeleton</strong> – Only iterate through instances with this skeleton</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>Instance</em> – The next labeled instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.labels">
<em class="property">property </em><code class="sig-name descname">labels</code><a class="headerlink" href="#sleap.io.dataset.Labels.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for labeled_frames.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.load_deeplabcut_csv">
<em class="property">classmethod </em><code class="sig-name descname">load_deeplabcut_csv</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em><span class="sig-paren">)</span> &#x2192; sleap.io.dataset.Labels<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.load_deeplabcut_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.load_deeplabcut_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Load DeepLabCut csv file as dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – Path to csv file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.load_file">
<em class="property">classmethod </em><code class="sig-name descname">load_file</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load file, detecting format from filename.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.load_hdf5">
<em class="property">classmethod </em><code class="sig-name descname">load_hdf5</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em>, <em class="sig-param">video_callback=None</em>, <em class="sig-param">match_to: Optional[Labels] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.load_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.load_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize HDF5 file as new <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – Path to HDF5 file.</p></li>
<li><p><strong>video_callback</strong> – A callback function that which can modify
video paths before we try to create the corresponding
<code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> objects. Usually you’ll want to pass
a callback created by <a class="reference internal" href="#sleap.io.dataset.Labels.make_video_callback" title="sleap.io.dataset.Labels.make_video_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_video_callback()</span></code></a>
or <a class="reference internal" href="#sleap.io.dataset.Labels.make_gui_video_callback" title="sleap.io.dataset.Labels.make_gui_video_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_gui_video_callback()</span></code></a>.</p></li>
<li><p><strong>match_to</strong> – If given, we’ll replace particular objects in the
data dictionary with <em>matching</em> objects in the match_to
<a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> object. This ensures that the newly
instantiated <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> can be merged without
duplicate matching objects (e.g., <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> objects ).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.load_json">
<em class="property">classmethod </em><code class="sig-name descname">load_json</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em>, <em class="sig-param">video_callback: Optional[Callable] = None</em>, <em class="sig-param">match_to: Optional[Labels] = None</em><span class="sig-paren">)</span> &#x2192; sleap.io.dataset.Labels<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.load_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.load_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize JSON file as new <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – Path to JSON file.</p></li>
<li><p><strong>video_callback</strong> – A callback function that which can modify
video paths before we try to create the corresponding
<code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> objects. Usually you’ll want to pass
a callback created by <a class="reference internal" href="#sleap.io.dataset.Labels.make_video_callback" title="sleap.io.dataset.Labels.make_video_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_video_callback()</span></code></a>
or <a class="reference internal" href="#sleap.io.dataset.Labels.make_gui_video_callback" title="sleap.io.dataset.Labels.make_gui_video_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_gui_video_callback()</span></code></a>.</p></li>
<li><p><strong>match_to</strong> – If given, we’ll replace particular objects in the
data dictionary with <em>matching</em> objects in the match_to
<a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> object. This ensures that the newly
instantiated <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> can be merged without
duplicate matching objects (e.g., <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> objects ).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.load_mat">
<em class="property">classmethod </em><code class="sig-name descname">load_mat</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em><span class="sig-paren">)</span> &#x2192; sleap.io.dataset.Labels<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.load_mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.load_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Load LEAP MATLAB file as dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – Path to csv file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.make_gui_video_callback">
<em class="property">classmethod </em><code class="sig-name descname">make_gui_video_callback</code><span class="sig-paren">(</span><em class="sig-param">search_paths: Optional[List] = None</em><span class="sig-paren">)</span> &#x2192; Callable<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.make_gui_video_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.make_gui_video_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a callback with GUI for finding missing videos.</p>
<p>The callback can be used while loading a saved project and
allows the user to find videos which have been moved (or have
paths from a different system).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_paths</strong> – If specified, this is a list of paths where
we’ll automatically try to find the missing videos.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The callback function.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.make_video_callback">
<em class="property">classmethod </em><code class="sig-name descname">make_video_callback</code><span class="sig-paren">(</span><em class="sig-param">search_paths: Optional[List] = None</em><span class="sig-paren">)</span> &#x2192; Callable<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.make_video_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.make_video_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a non-GUI callback for finding missing videos.</p>
<p>The callback can be used while loading a saved project and
allows the user to find videos which have been moved (or have
paths from a different system).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>search_paths</strong> – If specified, this is a list of paths where
we’ll automatically try to find the missing videos.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The callback function.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.merge_container_dicts">
<em class="property">static </em><code class="sig-name descname">merge_container_dicts</code><span class="sig-paren">(</span><em class="sig-param">dict_a: Dict</em>, <em class="sig-param">dict_b: Dict</em><span class="sig-paren">)</span> &#x2192; Dict<a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.merge_container_dicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.merge_container_dicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge data from dict_b into dict_a.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.merge_matching_frames">
<code class="sig-name descname">merge_matching_frames</code><span class="sig-paren">(</span><em class="sig-param">video: Optional[sleap.io.video.Video] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.merge_matching_frames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.merge_matching_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge <cite>LabeledFrame</cite> objects that are for the same video frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video</strong> – combine for this video; if None, do all videos</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param">value: sleap.instance.LabeledFrame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes given labeled frame.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.remove_instance">
<code class="sig-name descname">remove_instance</code><span class="sig-paren">(</span><em class="sig-param">frame: sleap.instance.LabeledFrame</em>, <em class="sig-param">instance: sleap.instance.Instance</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.remove_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.remove_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes instance from frame, updating track occupancy.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.remove_negative_anchors">
<code class="sig-name descname">remove_negative_anchors</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em>, <em class="sig-param">frame_idx: int</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.remove_negative_anchors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.remove_negative_anchors" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes negative training samples for given video and frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – the <cite>Video</cite> for which we’re removing negative samples</p></li>
<li><p><strong>frame_idx</strong> – frame index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.remove_video">
<code class="sig-name descname">remove_video</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.remove_video"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.remove_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a video from the labels and ALL associated labeled frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video</strong> – <cite>Video</cite> instance to be removed</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.save_file">
<em class="property">classmethod </em><code class="sig-name descname">save_file</code><span class="sig-paren">(</span><em class="sig-param">labels: sleap.io.dataset.Labels</em>, <em class="sig-param">filename: str</em>, <em class="sig-param">default_suffix: str = ''</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.save_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.save_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save file, detecting format from filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – The dataset to save.</p></li>
<li><p><strong>filename</strong> – Path where we’ll save it. We attempt to detect format
from the suffix (e.g., “.json”).</p></li>
<li><p><strong>default_suffix</strong> – If we can’t detect valid suffix on filename,
we can add default suffix to filename (and use corresponding
format). Doesn’t need to have “.” before file extension.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If cannot detect valid filetype.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.save_frame_data_hdf5">
<code class="sig-name descname">save_frame_data_hdf5</code><span class="sig-paren">(</span><em class="sig-param">output_path: str</em>, <em class="sig-param">format: str = 'png'</em>, <em class="sig-param">all_labels: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.save_frame_data_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.save_frame_data_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Write labeled frames from all videos to hdf5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_path</strong> – Path to HDF5 file.</p></li>
<li><p><strong>format</strong> – The image format to use for the data. Defaults to png.</p></li>
<li><p><strong>all_labels</strong> – Include any labeled frames, not just the frames
we’ll use for training (i.e., those with Instances).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">HDF5Video</span></code> objects with the stored frames.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.save_frame_data_imgstore">
<code class="sig-name descname">save_frame_data_imgstore</code><span class="sig-paren">(</span><em class="sig-param">output_dir: str = './'</em>, <em class="sig-param">format: str = 'png'</em>, <em class="sig-param">all_labels: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.save_frame_data_imgstore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.save_frame_data_imgstore" title="Permalink to this definition">¶</a></dt>
<dd><p>Write all labeled frames from all videos to imgstore datasets.</p>
<p>This only writes frames that have been labeled. Videos without
any labeled frames will be included as empty imgstores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_dir</strong> – Path to directory which will contain imgstores.</p></li>
<li><p><strong>format</strong> – The image format to use for the data.
Use “png” for lossless, “jpg” for lossy.
Other imgstore formats will probably work as well but
have not been tested.</p></li>
<li><p><strong>all_labels</strong> – Include any labeled frames, not just the frames
we’ll use for training (i.e., those with <cite>Instance</cite> objects ).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of <code class="xref py py-class docutils literal notranslate"><span class="pre">ImgStoreVideo</span></code> objects with the stored
frames.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.save_hdf5">
<em class="property">static </em><code class="sig-name descname">save_hdf5</code><span class="sig-paren">(</span><em class="sig-param">labels: sleap.io.dataset.Labels</em>, <em class="sig-param">filename: str</em>, <em class="sig-param">append: bool = False</em>, <em class="sig-param">save_frame_data: bool = False</em>, <em class="sig-param">frame_data_format: str = 'png'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.save_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.save_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize the labels dataset to an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – The <a class="reference internal" href="#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labels</span></code></a> dataset to save</p></li>
<li><p><strong>filename</strong> – The file to serialize the dataset to.</p></li>
<li><p><strong>append</strong> – Whether to append these labeled frames to the file
or not.</p></li>
<li><p><strong>save_frame_data</strong> – Whether to save the image frame data for
any labeled frame as well. This is useful for uploading
the HDF5 for model training when video files are to
large to move. This will only save video frames that
have some labeled instances.</p></li>
<li><p><strong>frame_data_format</strong> – <p>If save_frame_data is True, then this argument
is used to set the data format to use when encoding images
saved in HDF5. Supported formats include:</p>
<ul>
<li><p>”” for no encoding (ndarray)</p></li>
<li><p>”png”</p></li>
<li><p>”jpg”</p></li>
<li><p>anything else supported by <cite>cv2.imencode</cite></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.save_json">
<em class="property">static </em><code class="sig-name descname">save_json</code><span class="sig-paren">(</span><em class="sig-param">labels: sleap.io.dataset.Labels</em>, <em class="sig-param">filename: str</em>, <em class="sig-param">compress: bool = False</em>, <em class="sig-param">save_frame_data: bool = False</em>, <em class="sig-param">frame_data_format: str = 'png'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.save_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.save_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a Labels instance to a JSON format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – The labels dataset to save.</p></li>
<li><p><strong>filename</strong> – The filename to save the data to.</p></li>
<li><p><strong>compress</strong> – Whether the data be zip compressed or not? If True,
the JSON will be compressed using Python’s shutil.make_archive
command into a PKZIP zip file. If compress is True then
filename will have a .zip appended to it.</p></li>
<li><p><strong>save_frame_data</strong> – Whether to save the image data for each frame.
For each video in the dataset, all frames that have labels
will be stored as an imgstore dataset.
If save_frame_data is True then compress will be forced to True
since the archive must contain both the JSON data and image
data stored in ImgStores.</p></li>
<li><p><strong>frame_data_format</strong> – <p>If save_frame_data is True, then this argument
is used to set the data format to use when writing frame
data to ImgStore objects. Supported formats should be:</p>
<blockquote>
<div><ul>
<li><p>’pgm’,</p></li>
<li><p>’bmp’,</p></li>
<li><p>’ppm’,</p></li>
<li><p>’tif’,</p></li>
<li><p>’png’,</p></li>
<li><p>’jpg’,</p></li>
<li><p>’npy’,</p></li>
<li><p>’mjpeg/avi’,</p></li>
<li><p>’h264/mkv’,</p></li>
<li><p>’avc1/mp4’</p></li>
</ul>
<p>Note: ‘h264/mkv’ and ‘avc1/mp4’ require separate installation
of these codecs on your system. They are excluded from SLEAP
because of their GPL license.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.set_suggestions">
<code class="sig-name descname">set_suggestions</code><span class="sig-paren">(</span><em class="sig-param">suggestions: Dict[sleap.io.video.Video, list]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.set_suggestions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.set_suggestions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the suggested frames.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">skip_labels: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize all labels in the underling list of LabeledFrames to a
dict structure. This function returns a nested dict structure
composed entirely of primitive python types. It is used to create
JSON and HDF5 serialized datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>skip_labels</strong> – If True, skip labels serialization and just do the</p></li>
<li><p><strong>metadata.</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>version - The version of the dict/json serialization format.</p></li>
<li><p>skeletons - The skeletons associated with these underlying
instances.</p></li>
<li><p>nodes - The nodes that the skeletons represent.</p></li>
<li><p>videos - The videos that that the instances occur on.</p></li>
<li><p>labels - The labeled frames</p></li>
<li><p>tracks - The tracks associated with each instance.</p></li>
<li><p>suggestions - The suggested frames.</p></li>
<li><p>negative_anchors - The negative training sample anchors.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A dict containing the followings top level keys</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize all labels in the underling list of LabeledFrame(s) to a
JSON structured string.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The JSON representation of the string.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.track_set_instance">
<code class="sig-name descname">track_set_instance</code><span class="sig-paren">(</span><em class="sig-param">frame: sleap.instance.LabeledFrame</em>, <em class="sig-param">instance: sleap.instance.Instance</em>, <em class="sig-param">new_track: sleap.instance.Track</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.track_set_instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.track_set_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets track on given instance, updating occupancy.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.track_swap">
<code class="sig-name descname">track_swap</code><span class="sig-paren">(</span><em class="sig-param">video: sleap.io.video.Video, new_track: sleap.instance.Track, old_track: Optional[sleap.instance.Track], frame_range: tuple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sleap/io/dataset.html#Labels.track_swap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.io.dataset.Labels.track_swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps track assignment for instances in two tracks.</p>
<p>If you need to change the track to or from None, you’ll need
to use <a class="reference internal" href="#sleap.io.dataset.Labels.track_set_instance" title="sleap.io.dataset.Labels.track_set_instance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">track_set_instance()</span></code></a> for each specific
instance you want to modify.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video</strong> – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code> for which we want to swap tracks.</p></li>
<li><p><strong>new_track</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">Track</span></code> for which we want to swap
instances with another track.</p></li>
<li><p><strong>old_track</strong> – The other <code class="xref py py-class docutils literal notranslate"><span class="pre">Track</span></code> for swapping.</p></li>
<li><p><strong>frame_range</strong> – Tuple of (start, end) frame indexes.
If you want to swap tracks on a single frame, use
(frame index, frame index + 1).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.user_instances">
<em class="property">property </em><code class="sig-name descname">user_instances</code><a class="headerlink" href="#sleap.io.dataset.Labels.user_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of all user (non-predicted) instances.</p>
</dd></dl>

<dl class="method">
<dt id="sleap.io.dataset.Labels.user_labeled_frames">
<em class="property">property </em><code class="sig-name descname">user_labeled_frames</code><a class="headerlink" href="#sleap.io.dataset.Labels.user_labeled_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all labeled frames with user (non-predicted) instances.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="training.html" class="btn btn-neutral float-right" title="Training" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="instance.html" class="btn btn-neutral float-left" title="Instance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Murthy Lab @ Princeton

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>