
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>sleap.nn.data.dataset_ops &#8212; SLEAP  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sleap.nn.data.edge_maps" href="sleap.nn.data.edge_maps.html" />
    <link rel="prev" title="sleap.nn.data.confidence_maps" href="sleap.nn.data.confidence_maps.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-sleap.nn.data.dataset_ops">
<span id="sleap-nn-data-dataset-ops"></span><h1>sleap.nn.data.dataset_ops<a class="headerlink" href="#module-sleap.nn.data.dataset_ops" title="Permalink to this headline">¶</a></h1>
<p>Transformers for dataset (multi-example) operations, e.g., shuffling and batching.</p>
<p>These are mostly wrappers for standard tf.data.Dataset ops.</p>
<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.Batcher">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">Batcher</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">batch_size</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">8</span></em>, <em class="sig-param"><span class="n">drop_remainder</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Batcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Batching transformer for use in pipelines.</p>
<p>This class enables variable-length example keys to be batched by converting them to
ragged tensors prior to concatenation, then converting them back to dense tensors.</p>
<p>See the notes in the <cite>Shuffling</cite> and <cite>Repeater</cite> transformers if training. If using
in inference, this transformer will be used on its own without dropping remainders.</p>
<dl class="simple">
<dt>The ideal (training) pipeline follows the order:</dt><dd><p>shuffle -&gt; batch -&gt; repeat</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Batcher.batch_size">
<code class="sig-name descname">batch_size</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements within a batch. Every key will be stacked within
their first axis (with expansion) such that it has <cite>batch_size</cite> length.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Batcher.drop_remainder">
<code class="sig-name descname">drop_remainder</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.drop_remainder" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, final elements with fewer than <cite>batch_size</cite> examples
will be dropped once the end of the input dataset iteration is reached. This
should be True for training and False for inference.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Batcher.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Batcher.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Batcher.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Batcher.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset with batched elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset that produces dictionaries keyed by strings and values
with any rank tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <cite>tf.data.Dataset</cite> with elements containing the same keys, but with each
tensor promoted to 1 rank higher (except for scalars with rank 0 will be
promoted to rank 2).</p>
<p>The keys of each element will contain <cite>batch_size</cite> individual elements
stacked along the axis 0, such that length (<cite>.shape[0]</cite>) is equal to
<cite>batch_size</cite>.</p>
<p>Any keys that had variable length elements within the batch will be padded
with NaNs to the size of the largest element’s length for that key.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.LambdaFilter">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">LambdaFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filter_fn</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>tensorflow.python.framework.ops.Tensor<span class="p">]</span><span class="p">, </span>bool<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#LambdaFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Transformer for filtering examples out of a dataset.</p>
<p>This class is useful for eliminating examples that fail to meet some criteria, e.g.,
when no peaks are found.</p>
<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.LambdaFilter.filter_fn">
<code class="sig-name descname">filter_fn</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.filter_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Callable that takes an example dictionary as input and returns True
if the the element should be kept.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.LambdaFilter.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.LambdaFilter.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.LambdaFilter.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#LambdaFilter.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset with filtering applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset that produces dictionaries keyed by strings and values
with any rank tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <cite>tf.data.Dataset</cite> with elements containing the same keys, but with
potentially fewer elements.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.Prefetcher">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">Prefetcher</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefetch</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">buffer_size</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Prefetcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefetching transformer for use in pipelines.</p>
<p>Prefetches elements from the input dataset to minimize the processing bottleneck
as elements are requested since prefetching can occur in parallel.</p>
<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Prefetcher.prefetch">
<code class="sig-name descname">prefetch</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.prefetch" title="Permalink to this definition">¶</a></dt>
<dd><p>If False, returns the input dataset unmodified.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Prefetcher.buffer_size">
<code class="sig-name descname">buffer_size</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep <cite>buffer_size</cite> elements loaded in the buffer. If set to -1
(<cite>tf.data.experimental.AUTOTUNE</cite>), this value will be optimized
automatically to decrease latency.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Prefetcher.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Prefetcher.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Prefetcher.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Prefetcher.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset with prefetching to maintain a buffer during iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <cite>tf.data.Dataset</cite> with identical elements. Processing that occurs with the
elements that are produced can be done in parallel (e.g., training on the
GPU) while new elements are generated from the pipeline.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.Preloader">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">Preloader</code><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Preloader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader" title="Permalink to this definition">¶</a></dt>
<dd><p>Preload elements of the underlying dataset to generate in-memory examples.</p>
<p>This transformer can lead to considerable performance improvements at the cost of
memory consumption.</p>
<p>This is functionally equivalent to <cite>tf.data.Dataset.cache</cite>, except the cached
examples are accessible directly via the <cite>examples</cite> attribute.</p>
<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Preloader.examples">
<code class="sig-name descname">examples</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.examples" title="Permalink to this definition">¶</a></dt>
<dd><p>Stored list of preloaded elements.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Preloader.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Preloader.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Preloader.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Preloader.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset that generates preloaded elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any <cite>tf.data.Dataset</cite> that generates examples as a dictionary of
tensors. Should not be repeating infinitely.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A dataset that generates the same examples.</p>
<p>This is similar to prefetching, except that examples are yielded through a
generator and loaded when this method is called rather than during pipeline
iteration.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.Repeater">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">Repeater</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repeat</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">epochs</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Repeater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeating transformer for use in pipelines.</p>
<p>Repeats the underlying elements indefinitely or for a number of “iterations” or
“epochs”.</p>
<p>If placed before batching, this can create mini-batches with examples from across
epoch boundaries.</p>
<p>If placed after batching, this may never reach examples that are dropped as
remainders if not shuffling.</p>
<dl class="simple">
<dt>The ideal pipeline follows the order:</dt><dd><p>shuffle -&gt; batch -&gt; repeat</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Repeater.repeat">
<code class="sig-name descname">repeat</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>If False, returns the input dataset unmodified.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Repeater.epochs">
<code class="sig-name descname">epochs</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.epochs" title="Permalink to this definition">¶</a></dt>
<dd><p>If -1, repeats the input dataset elements infinitely. Otherwise, loops
through the elements of the input dataset this number of times.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Repeater.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Repeater.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Repeater.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Repeater.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset with repeated loops over the input elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <cite>tf.data.Dataset</cite> with elements containing the same keys, but repeated for
<cite>epochs</cite> iterations.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.Shuffler">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">Shuffler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shuffle</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">buffer_size</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">64</span></em>, <em class="sig-param"><span class="n">reshuffle_each_iteration</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Shuffler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuffling transformer for use in pipelines.</p>
<p>The input to this transformer should not be repeated or batched (though the latter
would technically work). Repeating prevents the shuffling from going through “epoch”
or “iteration” loops in the underlying dataset.</p>
<p>Though batching before shuffling works and respects epoch boundaries, it is not
recommended as it implies that the same examples will always be optimized for
together within a mini-batch. This is not as effective for promoting generalization
as element-wise shuffling which produces new combinations of elements within mini-
batches.</p>
<dl class="simple">
<dt>The ideal pipeline follows the order:</dt><dd><p>shuffle -&gt; batch -&gt; repeat</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Shuffler.shuffle">
<code class="sig-name descname">shuffle</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>If False, returns the input dataset unmodified.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Shuffler.buffer_size">
<code class="sig-name descname">buffer_size</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of examples to keep in a buffer to sample uniformly from. If
set too high, it may take a long time to fill the initial buffer, especially
if it resets every epoch.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.dataset_ops.Shuffler.reshuffle_each_iteration">
<code class="sig-name descname">reshuffle_each_iteration</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.reshuffle_each_iteration" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, resets the sampling buffer every iteration
through the underlying dataset.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Shuffler.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Shuffler.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Shuffler.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Shuffler.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset with shuffled element order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <cite>tf.data.Dataset</cite> with elements containing the same keys, but in a
shuffled order, if enabled.</p>
<p>If the input dataset is repeated, this doesn’t really respect epoch
boundaries since it never reaches the end of the iterator.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sleap.nn.data.dataset_ops.Unbatcher">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.dataset_ops.</code><code class="sig-name descname">Unbatcher</code><a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Unbatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Unbatching transformer for use in pipelines.</p>
<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Unbatcher.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Unbatcher.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.dataset_ops.Unbatcher.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds_input</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/dataset_ops.html#Unbatcher.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset with unbatched elements.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">SLEAP</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guides/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/reference.html">Feature Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sleap.diagnostic.html">sleap.diagnostic</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.instance.html">sleap.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.prefs.html">sleap.prefs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.rangelist.html">sleap.rangelist</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.skeleton.html">sleap.skeleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.util.html">sleap.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.version.html">sleap.version</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.app.html">sleap.gui.app</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.color.html">sleap.gui.color</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.commands.html">sleap.gui.commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dataviews.html">sleap.gui.dataviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.shortcuts.html">sleap.gui.shortcuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.state.html">sleap.gui.state</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.suggestions.html">sleap.gui.suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.delete.html">sleap.gui.dialogs.delete</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.filedialog.html">sleap.gui.dialogs.filedialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.formbuilder.html">sleap.gui.dialogs.formbuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.importvideos.html">sleap.gui.dialogs.importvideos</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.merge.html">sleap.gui.dialogs.merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.message.html">sleap.gui.dialogs.message</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.missingfiles.html">sleap.gui.dialogs.missingfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.shortcuts.html">sleap.gui.dialogs.shortcuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.configs.html">sleap.gui.learning.configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.datagen.html">sleap.gui.learning.datagen</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.receptivefield.html">sleap.gui.learning.receptivefield</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.runners.html">sleap.gui.learning.runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.training.html">sleap.gui.learning.training</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.utils.html">sleap.gui.learning.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.anchors.html">sleap.gui.overlays.anchors</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.base.html">sleap.gui.overlays.base</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.confmaps.html">sleap.gui.overlays.confmaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.instance.html">sleap.gui.overlays.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.pafs.html">sleap.gui.overlays.pafs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.tracks.html">sleap.gui.overlays.tracks</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.imagedir.html">sleap.gui.widgets.imagedir</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.multicheck.html">sleap.gui.widgets.multicheck</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.slider.html">sleap.gui.widgets.slider</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.video.html">sleap.gui.widgets.video</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.align.html">sleap.info.align</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.feature_suggestions.html">sleap.info.feature_suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.labels.html">sleap.info.labels</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.metrics.html">sleap.info.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.summary.html">sleap.info.summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.trackcleaner.html">sleap.info.trackcleaner</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.write_tracking_h5.html">sleap.info.write_tracking_h5</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.convert.html">sleap.io.convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.dataset.html">sleap.io.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.legacy.html">sleap.io.legacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.pathutils.html">sleap.io.pathutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.video.html">sleap.io.video</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.visuals.html">sleap.io.visuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.adaptor.html">sleap.io.format.adaptor</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.coco.html">sleap.io.format.coco</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.deeplabcut.html">sleap.io.format.deeplabcut</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.deepposekit.html">sleap.io.format.deepposekit</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.dispatch.html">sleap.io.format.dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.filehandle.html">sleap.io.format.filehandle</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.genericjson.html">sleap.io.format.genericjson</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.hdf5.html">sleap.io.format.hdf5</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.labels_json.html">sleap.io.format.labels_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.leap_matlab.html">sleap.io.format.leap_matlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.sleap_analysis.html">sleap.io.format.sleap_analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.text.html">sleap.io.format.text</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.callbacks.html">sleap.nn.callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.evals.html">sleap.nn.evals</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.heads.html">sleap.nn.heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.inference.html">sleap.nn.inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.losses.html">sleap.nn.losses</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.model.html">sleap.nn.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.monitor.html">sleap.nn.monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.paf_grouping.html">sleap.nn.paf_grouping</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.peak_finding.html">sleap.nn.peak_finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.system.html">sleap.nn.system</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.tracking.html">sleap.nn.tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.training.html">sleap.nn.training</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.utils.html">sleap.nn.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.viz.html">sleap.nn.viz</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.common.html">sleap.nn.architectures.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.encoder_decoder.html">sleap.nn.architectures.encoder_decoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.hourglass.html">sleap.nn.architectures.hourglass</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.hrnet.html">sleap.nn.architectures.hrnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.leap.html">sleap.nn.architectures.leap</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.resnet.html">sleap.nn.architectures.resnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.unet.html">sleap.nn.architectures.unet</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.upsampling.html">sleap.nn.architectures.upsampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.data.html">sleap.nn.config.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.model.html">sleap.nn.config.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.optimization.html">sleap.nn.config.optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.outputs.html">sleap.nn.config.outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.training_job.html">sleap.nn.config.training_job</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.utils.html">sleap.nn.config.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.augmentation.html">sleap.nn.data.augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.confidence_maps.html">sleap.nn.data.confidence_maps</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">sleap.nn.data.dataset_ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.edge_maps.html">sleap.nn.data.edge_maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.general.html">sleap.nn.data.general</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.inference.html">sleap.nn.data.inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.instance_centroids.html">sleap.nn.data.instance_centroids</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.instance_cropping.html">sleap.nn.data.instance_cropping</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.normalization.html">sleap.nn.data.normalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.pipelines.html">sleap.nn.data.pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.providers.html">sleap.nn.data.providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.resizing.html">sleap.nn.data.resizing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.training.html">sleap.nn.data.training</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.utils.html">sleap.nn.data.utils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">Developer API</a><ul>
      <li>Previous: <a href="sleap.nn.data.confidence_maps.html" title="previous chapter">sleap.nn.data.confidence_maps</a></li>
      <li>Next: <a href="sleap.nn.data.edge_maps.html" title="next chapter">sleap.nn.data.edge_maps</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019–2020, Murthy Lab @ Princeton.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/_autosummary/sleap.nn.data.dataset_ops.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>