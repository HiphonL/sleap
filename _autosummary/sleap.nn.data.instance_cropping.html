
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>sleap.nn.data.instance_cropping &#8212; SLEAP  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sleap.nn.data.normalization" href="sleap.nn.data.normalization.html" />
    <link rel="prev" title="sleap.nn.data.instance_centroids" href="sleap.nn.data.instance_centroids.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-sleap.nn.data.instance_cropping">
<span id="sleap-nn-data-instance-cropping"></span><h1>sleap.nn.data.instance_cropping<a class="headerlink" href="#module-sleap.nn.data.instance_cropping" title="Permalink to this headline">¶</a></h1>
<p>Transformers for cropping instances for topdown processing.</p>
<dl class="py class">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper">
<em class="property">class </em><code class="sig-prename descclassname">sleap.nn.data.instance_cropping.</code><code class="sig-name descname">InstanceCropper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">crop_width</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">crop_height</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">keep_full_image</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mock_centroid_confidence</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#InstanceCropper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper" title="Permalink to this definition">¶</a></dt>
<dd><p>Data transformer to crop and generate individual examples for instances.</p>
<p>This generates datasets that are instance cropped for topdown processing.</p>
<dl class="py attribute">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.crop_width">
<code class="sig-name descname">crop_width</code><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.crop_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Width of the crops in pixels.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.crop_height">
<code class="sig-name descname">crop_height</code><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.crop_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of the crops in pixels.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.keep_full_image">
<code class="sig-name descname">keep_full_image</code><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.keep_full_image" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, the output examples will contain the full images
provided as input to the instance cropped. This can be useful for pipelines
that use both full and cropped images, at the cost of increased memory
requirements usage. Setting this to False can substantially improve
performance of large pipelines if the full images are no longer required.</p>
</dd></dl>

<dl class="py attribute">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.mock_centroid_confidence">
<code class="sig-name descname">mock_centroid_confidence</code><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.mock_centroid_confidence" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, add confidence keys for compatibility with
predicted instance cropping.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="sleap.nn.config.data.html#sleap.nn.config.data.InstanceCroppingConfig" title="sleap.nn.config.data.InstanceCroppingConfig">sleap.nn.config.data.InstanceCroppingConfig</a></span></em>, <em class="sig-param"><span class="n">crop_size</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#sleap.nn.data.instance_cropping.InstanceCropper" title="sleap.nn.data.instance_cropping.InstanceCropper">sleap.nn.data.instance_cropping.InstanceCropper</a><a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#InstanceCropper.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an instance of this class from its configuration options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – An <cite>InstanceCroppingConfig</cite> instance with the desired parameters.</p></li>
<li><p><strong>crop_size</strong> – Integer specifying the crop height and width. This is only
required and will only be used if the <cite>config.crop_size</cite> attribute does
not specify an explicit integer crop size (e.g., it is set to None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of this class.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the <cite>crop_size</cite> is not specified in either the config
    attribute or function arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.input_keys">
<em class="property">property </em><code class="sig-name descname">input_keys</code><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.input_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.output_keys">
<em class="property">property </em><code class="sig-name descname">output_keys</code><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.output_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt id="sleap.nn.data.instance_cropping.InstanceCropper.transform_dataset">
<code class="sig-name descname">transform_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_ds</span><span class="p">:</span> <span class="n">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.data.ops.dataset_ops.DatasetV2<a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#InstanceCropper.transform_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.InstanceCropper.transform_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset that contains instance cropped data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – <p>A dataset with examples containing the following keys:
“image”: The full image in a tensor of shape (height, width, channels).
“instances”: Instance points in a tf.float32 tensor of shape</p>
<blockquote>
<div><p>(n_instances, n_nodes, 2).</p>
</div></blockquote>
<dl class="simple">
<dt>”centroids”: The computed centroid for each instance in a tf.float32</dt><dd><p>tensor of shape (n_instances, 2).</p>
</dd>
</dl>
<p>Any additional keys present will be replicated in each output.</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <cite>tf.data.Dataset</cite> with elements containing instance cropped data. Each
instance will generate an example, so the total number of elements may
change relative to the input dataset.</p>
<dl class="simple">
<dt>Each element in the output dataset will have the following keys:</dt><dd><dl class="simple">
<dt>”instance_image”: A cropped image of the same dtype as the input image</dt><dd><p>but with shape (crop_width, crop_height, channels) and will be
centered on an instance.</p>
</dd>
<dt>”bbox”: The bounding box in absolute image coordinates in the format</dt><dd><p>(y1, x1, y2, x2) that resulted in the cropped image in
“instance_image”. This will be a tf.float32 tensor of shape (4,).</p>
</dd>
<dt>”center_instance”: The points of the centered instance in image</dt><dd><p>coordinates in the “instance_image”. This will be a tf.float32
tensor of shape (n_nodes, 2). The absolute image coordinates can be
recovered by adding (x1, y1) from the “bbox” key.</p>
</dd>
<dt>”center_instance_ind”: Scalar tf.int32 index of the centered instance</dt><dd><p>relative to all the instances in the frame. This can be used to
index into additional keys that may contain data from all instances.</p>
</dd>
<dt>”all_instances”: The points of all instances in the frame in image</dt><dd><p>coordinates in the “instance_image”. This will be a tf.float32
tensor of shape (n_instances, n_nodes, 2). This is useful for multi-
stage models that first predict all nodes and subsequently refine it
to just the centered instance. The “center_instance_ind”-th row of
this tensor is equal to “center_instance”.</p>
</dd>
<dt>”centroid”: The centroid coordinate that was used to generate this crop,</dt><dd><p>specified as a tf.float32 tensor of shape (2,) in absolute image
coordinates.</p>
</dd>
<dt>”full_image_height”: The height of the full image from which the crop</dt><dd><p>was generated, specified as a scalar tf.int32 tensor.</p>
</dd>
<dt>”full_image_width”: The width of the full image from which the crop was</dt><dd><p>generated, specified as a scalar tf.int32 tensor.</p>
</dd>
</dl>
</dd>
</dl>
<p>If <cite>keep_full_image</cite> is True, examples will also have an “image” key
containing the same image as the input.</p>
<p>if <cite>mock_centroid_confidence</cite> is True, examples will also have a
“centroid_confidence” key with all ones. This is useful for evaluating
models that use crops independently from centroid inference.</p>
<p>Additional keys will be replicated in each example under the same name.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="sleap.nn.data.instance_cropping.crop_bboxes">
<code class="sig-prename descclassname">sleap.nn.data.instance_cropping.</code><code class="sig-name descname">crop_bboxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">bboxes</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#crop_bboxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.crop_bboxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop bounding boxes from an image.</p>
<p>This method serves as a convenience method for specifying the arguments of
<cite>tf.image.crop_and_resize</cite>, becoming especially useful in the case of multiple
bounding boxes with a single image and no resizing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – Tensor of shape (height, width, channels) of a single image.</p></li>
<li><p><strong>bboxes</strong> – Tensor of shape (n_bboxes, 4) and dtype tf.float32, where the last axis
corresponds to (y1, x1, y2, x2) coordinates of the bounding boxes. This can
be generated from centroids using <cite>make_centered_bboxes</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tensor of shape (n_bboxes, crop_height, crop_width, channels) of the same
dtype as the input image. The crop size is inferred from the bounding box
coordinates.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function expects bounding boxes with coordinates at the centers of the
pixels in the box limits. Technically, the box will span (x1 - 0.5, x2 + 0.5)
and (y1 - 0.5, y2 + 0.5).</p>
<p>For example, a 3x3 patch centered at (1, 1) would be specified by
(y1, x1, y2, x2) = (0, 0, 2, 2). This would be exactly equivalent to indexing
the image with <cite>image[0:3, 0:3]</cite>.</p>
<p>See also: <cite>make_centered_bboxes</cite></p>
</dd></dl>

<dl class="py function">
<dt id="sleap.nn.data.instance_cropping.find_instance_crop_size">
<code class="sig-prename descclassname">sleap.nn.data.instance_cropping.</code><code class="sig-name descname">find_instance_crop_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">labels</span><span class="p">:</span> <span class="n"><a class="reference internal" href="sleap.io.dataset.html#sleap.io.dataset.Labels" title="sleap.io.dataset.Labels">sleap.io.dataset.Labels</a></span></em>, <em class="sig-param"><span class="n">padding</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">maximum_stride</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">input_scaling</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#find_instance_crop_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.find_instance_crop_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the size of the largest instance bounding box from labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – A <cite>sleap.Labels</cite> containing user-labeled instances.</p></li>
<li><p><strong>padding</strong> – Integer number of pixels to add to the bounds as margin padding.</p></li>
<li><p><strong>maximum_stride</strong> – Ensure that the returned crop size is divisible by this value.
Useful for ensuring that the crop size will not be truncated in a given
architecture.</p></li>
<li><p><strong>input_scaling</strong> – Float factor indicating the scale of the input images if any
scaling will be done before cropping.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>An integer crop size denoting the length of the side of the bounding boxes that
will contain the instances when cropped.</p>
<p>This accounts for stride, padding and scaling when ensuring divisibility.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="sleap.nn.data.instance_cropping.make_centered_bboxes">
<code class="sig-prename descclassname">sleap.nn.data.instance_cropping.</code><code class="sig-name descname">make_centered_bboxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">centroids</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">box_height</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">box_width</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#make_centered_bboxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.make_centered_bboxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate bounding boxes centered on a set of centroid coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>centroids</strong> – A tensor of shape (n_centroids, 2) and dtype tf.float32, where the
last axis corresponds to the (x, y) coordinates of each centroid.</p></li>
<li><p><strong>box_height</strong> – Scalar integer indicating the height of the bounding boxes.</p></li>
<li><p><strong>box_width</strong> – Scalar integer indicating the width of the bounding boxes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tensor of shape (n_centroids, 4) and dtype tf.float32, where the last axis
corresponds to (y1, x1, y2, x2) coordinates of the bounding boxes in absolute
image coordinates.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The bounding box coordinates are calculated such that the centroid coordinates
map onto the center of the pixel. For example:</p>
<p>For a single row image of shape (1, 4) with values: <cite>[[a, b, c, d]]</cite>, the x
coordinates can be visualized in the diagram below:</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div></div></blockquote>
<div class="line-block">
<div class="line">a  |  b  |  c  |  d  |</div>
<div class="line">|  |  |  |  |  |  |  |</div>
</div>
</div></blockquote>
<dl class="simple">
<dt>-0.5 | 0.5 | 1.5 | 2.5 | 3.5</dt><dd><p>0     1     2     3</p>
</dd>
</dl>
</div></blockquote>
<p>To get a (1, 3) patch centered at c, the centroid would be at (x, y) = (2, 0)
with box height of 1 and box width of 3, to yield <cite>[[b, c, d]]</cite>.</p>
<p>For even sized bounding boxes, e.g., to get the center 2 elements, the centroid
would be at (x, y) = (1.5, 0) with box width of 2, to yield <cite>[[b, c]]</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="sleap.nn.data.instance_cropping.normalize_bboxes">
<code class="sig-prename descclassname">sleap.nn.data.instance_cropping.</code><code class="sig-name descname">normalize_bboxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bboxes</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">image_height</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">image_width</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#normalize_bboxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.normalize_bboxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize bounding box coordinates to the range [0, 1].</p>
<p>This is useful for transforming points for TensorFlow operations that require
normalized image coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bboxes</strong> – Tensor of shape (n_bboxes, 4) and dtype tf.float32, where the last axis
corresponds to (y1, x1, y2, x2) coordinates of the bounding boxes.</p></li>
<li><p><strong>image_height</strong> – Scalar integer indicating the height of the image.</p></li>
<li><p><strong>image_width</strong> – Scalar integer indicating the width of the image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Tensor of the normalized points of the same shape as <cite>bboxes</cite>.</p>
<p>The normalization applied to each point is <cite>x / (image_width - 1)</cite> and
<cite>y / (image_width - 1)</cite>.</p>
</p>
</dd>
</dl>
<p>See also: unnormalize_bboxes</p>
</dd></dl>

<dl class="py function">
<dt id="sleap.nn.data.instance_cropping.unnormalize_bboxes">
<code class="sig-prename descclassname">sleap.nn.data.instance_cropping.</code><code class="sig-name descname">unnormalize_bboxes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">normalized_bboxes</span><span class="p">:</span> <span class="n">tensorflow.python.framework.ops.Tensor</span></em>, <em class="sig-param"><span class="n">image_height</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">image_width</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.python.framework.ops.Tensor<a class="reference internal" href="../_modules/sleap/nn/data/instance_cropping.html#unnormalize_bboxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sleap.nn.data.instance_cropping.unnormalize_bboxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert bounding boxes coordinates in the range [0, 1] to absolute coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normalized_bboxes</strong> – Tensor of shape (n_bboxes, 4) and dtype tf.float32, where the
last axis corresponds to (y1, x1, y2, x2) normalized coordinates of the
bounding boxes in the range [0, 1].</p></li>
<li><p><strong>image_height</strong> – Scalar integer indicating the height of the image.</p></li>
<li><p><strong>image_width</strong> – Scalar integer indicating the width of the image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tensor of the same shape as <cite>bboxes</cite> mapped back to absolute image coordinates
by multiplying (x, y) coordinates by <cite>(image_width - 1, image_height - 1)</cite>.</p>
</dd>
</dl>
<p>See also: normalize_bboxes</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">SLEAP</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guides/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/reference.html">Feature Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sleap.diagnostic.html">sleap.diagnostic</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.instance.html">sleap.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.prefs.html">sleap.prefs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.rangelist.html">sleap.rangelist</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.skeleton.html">sleap.skeleton</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.util.html">sleap.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.version.html">sleap.version</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.app.html">sleap.gui.app</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.color.html">sleap.gui.color</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.commands.html">sleap.gui.commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dataviews.html">sleap.gui.dataviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.shortcuts.html">sleap.gui.shortcuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.state.html">sleap.gui.state</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.suggestions.html">sleap.gui.suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.delete.html">sleap.gui.dialogs.delete</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.export_clip.html">sleap.gui.dialogs.export_clip</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.filedialog.html">sleap.gui.dialogs.filedialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.formbuilder.html">sleap.gui.dialogs.formbuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.importvideos.html">sleap.gui.dialogs.importvideos</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.merge.html">sleap.gui.dialogs.merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.message.html">sleap.gui.dialogs.message</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.missingfiles.html">sleap.gui.dialogs.missingfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.dialogs.shortcuts.html">sleap.gui.dialogs.shortcuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.configs.html">sleap.gui.learning.configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.datagen.html">sleap.gui.learning.datagen</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.dialog.html">sleap.gui.learning.dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.receptivefield.html">sleap.gui.learning.receptivefield</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.runners.html">sleap.gui.learning.runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.learning.utils.html">sleap.gui.learning.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.anchors.html">sleap.gui.overlays.anchors</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.base.html">sleap.gui.overlays.base</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.confmaps.html">sleap.gui.overlays.confmaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.instance.html">sleap.gui.overlays.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.pafs.html">sleap.gui.overlays.pafs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.overlays.tracks.html">sleap.gui.overlays.tracks</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.imagedir.html">sleap.gui.widgets.imagedir</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.multicheck.html">sleap.gui.widgets.multicheck</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.slider.html">sleap.gui.widgets.slider</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.gui.widgets.video.html">sleap.gui.widgets.video</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.align.html">sleap.info.align</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.feature_suggestions.html">sleap.info.feature_suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.labels.html">sleap.info.labels</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.metrics.html">sleap.info.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.summary.html">sleap.info.summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.trackcleaner.html">sleap.info.trackcleaner</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.info.write_tracking_h5.html">sleap.info.write_tracking_h5</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.convert.html">sleap.io.convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.dataset.html">sleap.io.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.legacy.html">sleap.io.legacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.pathutils.html">sleap.io.pathutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.video.html">sleap.io.video</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.videowriter.html">sleap.io.videowriter</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.visuals.html">sleap.io.visuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.adaptor.html">sleap.io.format.adaptor</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.coco.html">sleap.io.format.coco</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.deeplabcut.html">sleap.io.format.deeplabcut</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.deepposekit.html">sleap.io.format.deepposekit</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.dispatch.html">sleap.io.format.dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.filehandle.html">sleap.io.format.filehandle</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.genericjson.html">sleap.io.format.genericjson</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.hdf5.html">sleap.io.format.hdf5</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.labels_json.html">sleap.io.format.labels_json</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.leap_matlab.html">sleap.io.format.leap_matlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.sleap_analysis.html">sleap.io.format.sleap_analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.io.format.text.html">sleap.io.format.text</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.callbacks.html">sleap.nn.callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.evals.html">sleap.nn.evals</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.heads.html">sleap.nn.heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.inference.html">sleap.nn.inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.losses.html">sleap.nn.losses</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.model.html">sleap.nn.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.monitor.html">sleap.nn.monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.paf_grouping.html">sleap.nn.paf_grouping</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.peak_finding.html">sleap.nn.peak_finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.system.html">sleap.nn.system</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.tracking.html">sleap.nn.tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.training.html">sleap.nn.training</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.utils.html">sleap.nn.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.viz.html">sleap.nn.viz</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.common.html">sleap.nn.architectures.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.encoder_decoder.html">sleap.nn.architectures.encoder_decoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.hourglass.html">sleap.nn.architectures.hourglass</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.hrnet.html">sleap.nn.architectures.hrnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.leap.html">sleap.nn.architectures.leap</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.resnet.html">sleap.nn.architectures.resnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.unet.html">sleap.nn.architectures.unet</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.architectures.upsampling.html">sleap.nn.architectures.upsampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.data.html">sleap.nn.config.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.model.html">sleap.nn.config.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.optimization.html">sleap.nn.config.optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.outputs.html">sleap.nn.config.outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.training_job.html">sleap.nn.config.training_job</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.config.utils.html">sleap.nn.config.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.augmentation.html">sleap.nn.data.augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.confidence_maps.html">sleap.nn.data.confidence_maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.dataset_ops.html">sleap.nn.data.dataset_ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.edge_maps.html">sleap.nn.data.edge_maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.general.html">sleap.nn.data.general</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.grouping.html">sleap.nn.data.grouping</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.inference.html">sleap.nn.data.inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.instance_centroids.html">sleap.nn.data.instance_centroids</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">sleap.nn.data.instance_cropping</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.normalization.html">sleap.nn.data.normalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.pipelines.html">sleap.nn.data.pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.providers.html">sleap.nn.data.providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.resizing.html">sleap.nn.data.resizing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.training.html">sleap.nn.data.training</a></li>
<li class="toctree-l2"><a class="reference internal" href="sleap.nn.data.utils.html">sleap.nn.data.utils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">Developer API</a><ul>
      <li>Previous: <a href="sleap.nn.data.instance_centroids.html" title="previous chapter">sleap.nn.data.instance_centroids</a></li>
      <li>Next: <a href="sleap.nn.data.normalization.html" title="next chapter">sleap.nn.data.normalization</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019–2020, Murthy Lab @ Princeton.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/_autosummary/sleap.nn.data.instance_cropping.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>